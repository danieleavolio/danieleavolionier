import{s as Se,f as h,a as z,L as Ve,g as _,B,d as m,c as E,h as A,K as Re,j as l,r as n,i as U,u as Ae,l as ae,H as Fe,e as Ne,m as ne,F as Xe,E as x,C as K,M as Ge,n as re,O as Je,J as Ue,N as Ke,G as je}from"../chunks/scheduler.a5f99357.js";import{S as Qe,i as We,a as te,g as De,t as Oe,c as xe,h as le}from"../chunks/index.0f8e246b.js";import{e as Ie}from"../chunks/each.2b167411.js";import{e as Ye}from"../chunks/forms.0f3ec8a2.js";import{f as se}from"../chunks/index.22c841e0.js";function qe(i,e,a){const f=i.slice();return f[16]=e[a],f}function Ze(i){var ye;let e,a,f="Posts",c,t,o="Nuovo Post",b,p,s,d,r,j,H=i[2].slug?"Modifica Post":"Nuovo Post",D,S,v,T,k,w,ie,V,ge="Titolo",oe,N,ue,R,ke="Descrizione",ce,M,fe,F,ze="Categorie (separate da virgola)",de,I,he,X,Ee="Contenuto (Markdown)",_e,q,pe,G,we="Salva Post",ve,J,Q,Pe="Anteprima",me,Z,$,W,Ce,Te,Y=Ie(i[0].posts),y=[];for(let u=0;u<Y.length;u+=1)y[u]=Be(qe(i,Y,u));let P=((ye=i[1])==null?void 0:ye.message)&&He(i);return{c(){e=h("div"),a=h("h2"),a.textContent=f,c=z(),t=h("button"),t.textContent=o,b=z(),p=h("ul");for(let u=0;u<y.length;u+=1)y[u].c();s=z(),d=h("div"),r=h("form"),j=h("h1"),D=ae(H),S=z(),v=h("input"),T=z(),k=h("input"),ie=z(),V=h("label"),V.textContent=ge,oe=z(),N=h("input"),ue=z(),R=h("label"),R.textContent=ke,ce=z(),M=h("textarea"),fe=z(),F=h("label"),F.textContent=ze,de=z(),I=h("input"),he=z(),X=h("label"),X.textContent=Ee,_e=z(),q=h("textarea"),pe=z(),G=h("button"),G.textContent=we,ve=z(),J=h("div"),Q=h("h2"),Q.textContent=Pe,me=z(),Z=new Fe(!1),$=z(),P&&P.c(),W=Ne(),this.h()},l(u){e=_(u,"DIV",{class:!0});var g=A(e);a=_(g,"H2",{"data-svelte-h":!0}),B(a)!=="svelte-m5dio3"&&(a.textContent=f),c=E(g),t=_(g,"BUTTON",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-lter1x"&&(t.textContent=o),b=E(g),p=_(g,"UL",{class:!0});var O=A(p);for(let be=0;be<y.length;be+=1)y[be].l(O);O.forEach(m),g.forEach(m),s=E(u),d=_(u,"DIV",{class:!0});var L=A(d);r=_(L,"FORM",{method:!0,class:!0});var C=A(r);j=_(C,"H1",{});var Le=A(j);D=ne(Le,H),Le.forEach(m),S=E(C),v=_(C,"INPUT",{type:!0,name:!0,class:!0}),T=E(C),k=_(C,"INPUT",{type:!0,name:!0,class:!0}),ie=E(C),V=_(C,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(V)!=="svelte-1p4ekyt"&&(V.textContent=ge),oe=E(C),N=_(C,"INPUT",{type:!0,id:!0,name:!0,class:!0}),ue=E(C),R=_(C,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(R)!=="svelte-1wk5id7"&&(R.textContent=ke),ce=E(C),M=_(C,"TEXTAREA",{id:!0,name:!0,class:!0}),A(M).forEach(m),fe=E(C),F=_(C,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(F)!=="svelte-15dwvma"&&(F.textContent=ze),de=E(C),I=_(C,"INPUT",{type:!0,id:!0,name:!0,class:!0}),he=E(C),X=_(C,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(X)!=="svelte-19sjlnm"&&(X.textContent=Ee),_e=E(C),q=_(C,"TEXTAREA",{id:!0,name:!0,rows:!0,class:!0}),A(q).forEach(m),pe=E(C),G=_(C,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),B(G)!=="svelte-1boe34i"&&(G.textContent=we),C.forEach(m),ve=E(L),J=_(L,"DIV",{class:!0});var ee=A(J);Q=_(ee,"H2",{"data-svelte-h":!0}),B(Q)!=="svelte-xojrdj"&&(Q.textContent=Pe),me=E(ee),Z=Xe(ee,!1),ee.forEach(m),L.forEach(m),$=E(u),P&&P.l(u),W=Ne(),this.h()},h(){l(t,"class","svelte-1ez2uh6"),l(p,"class","svelte-1ez2uh6"),l(e,"class","post-list svelte-1ez2uh6"),l(v,"type","hidden"),l(v,"name","password"),v.value=i[4],l(v,"class","svelte-1ez2uh6"),l(k,"type","hidden"),l(k,"name","slug"),k.value=w=i[2].slug,l(k,"class","svelte-1ez2uh6"),l(V,"for","title"),l(V,"class","svelte-1ez2uh6"),l(N,"type","text"),l(N,"id","title"),l(N,"name","title"),N.required=!0,l(N,"class","svelte-1ez2uh6"),l(R,"for","description"),l(R,"class","svelte-1ez2uh6"),l(M,"id","description"),l(M,"name","description"),M.required=!0,l(M,"class","svelte-1ez2uh6"),l(F,"for","categories"),l(F,"class","svelte-1ez2uh6"),l(I,"type","text"),l(I,"id","categories"),l(I,"name","categories"),I.required=!0,l(I,"class","svelte-1ez2uh6"),l(X,"for","content"),l(X,"class","svelte-1ez2uh6"),l(q,"id","content"),l(q,"name","content"),l(q,"rows","20"),q.required=!0,l(q,"class","svelte-1ez2uh6"),l(G,"type","submit"),l(G,"class","svelte-1ez2uh6"),l(r,"method","POST"),l(r,"class","svelte-1ez2uh6"),Z.a=null,l(J,"class","preview-container prose svelte-1ez2uh6"),l(d,"class","editor-grid svelte-1ez2uh6")},m(u,g){U(u,e,g),n(e,a),n(e,c),n(e,t),n(e,b),n(e,p);for(let O=0;O<y.length;O+=1)y[O]&&y[O].m(p,null);U(u,s,g),U(u,d,g),n(d,r),n(r,j),n(j,D),n(r,S),n(r,v),n(r,T),n(r,k),n(r,ie),n(r,V),n(r,oe),n(r,N),x(N,i[2].title),n(r,ue),n(r,R),n(r,ce),n(r,M),x(M,i[2].description),n(r,fe),n(r,F),n(r,de),n(r,I),x(I,i[2].categories),n(r,he),n(r,X),n(r,_e),n(r,q),x(q,i[2].content),n(r,pe),n(r,G),n(d,ve),n(d,J),n(J,Q),n(J,me),Z.m(i[6],J),U(u,$,g),P&&P.m(u,g),U(u,W,g),Ce||(Te=[K(t,"click",i[9]),K(N,"input",i[12]),K(M,"input",i[13]),K(I,"input",i[14]),K(q,"input",i[15]),Ge(Ye.call(null,r))],Ce=!0)},p(u,g){var O;if(g&257){Y=Ie(u[0].posts);let L;for(L=0;L<Y.length;L+=1){const C=qe(u,Y,L);y[L]?y[L].p(C,g):(y[L]=Be(C),y[L].c(),y[L].m(p,null))}for(;L<y.length;L+=1)y[L].d(1);y.length=Y.length}g&4&&H!==(H=u[2].slug?"Modifica Post":"Nuovo Post")&&re(D,H),g&16&&(v.value=u[4]),g&4&&w!==(w=u[2].slug)&&(k.value=w),g&4&&N.value!==u[2].title&&x(N,u[2].title),g&4&&x(M,u[2].description),g&4&&I.value!==u[2].categories&&x(I,u[2].categories),g&4&&x(q,u[2].content),g&64&&Z.p(u[6]),(O=u[1])!=null&&O.message?P?(P.p(u,g),g&2&&te(P,1)):(P=He(u),P.c(),te(P,1),P.m(W.parentNode,W)):P&&(De(),Oe(P,1,1,()=>{P=null}),xe())},d(u){u&&(m(e),m(s),m(d),m($),m(W)),Je(y,u),P&&P.d(u),Ce=!1,Ue(Te)}}}function $e(i){let e,a,f="Accesso Amministratore",c,t,o,b="Password",p,s,d,r,j="Entra",H,D,S,v=i[5]&&Me(i);return{c(){e=h("div"),a=h("h1"),a.textContent=f,c=z(),t=h("form"),o=h("label"),o.textContent=b,p=z(),s=h("input"),d=z(),r=h("button"),r.textContent=j,H=z(),v&&v.c(),this.h()},l(T){e=_(T,"DIV",{class:!0});var k=A(e);a=_(k,"H1",{"data-svelte-h":!0}),B(a)!=="svelte-12b6bm"&&(a.textContent=f),c=E(k),t=_(k,"FORM",{class:!0});var w=A(t);o=_(w,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(o)!=="svelte-pepa0a"&&(o.textContent=b),p=E(w),s=_(w,"INPUT",{type:!0,id:!0,class:!0}),d=E(w),r=_(w,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),B(r)!=="svelte-1njcxaz"&&(r.textContent=j),w.forEach(m),H=E(k),v&&v.l(k),k.forEach(m),this.h()},h(){l(o,"for","password"),l(o,"class","svelte-1ez2uh6"),l(s,"type","password"),l(s,"id","password"),s.required=!0,l(s,"class","svelte-1ez2uh6"),l(r,"type","submit"),l(r,"class","svelte-1ez2uh6"),l(t,"class","svelte-1ez2uh6"),l(e,"class","login-container svelte-1ez2uh6")},m(T,k){U(T,e,k),n(e,a),n(e,c),n(e,t),n(t,o),n(t,p),n(t,s),x(s,i[4]),n(t,d),n(t,r),n(e,H),v&&v.m(e,null),D||(S=[K(s,"input",i[10]),K(t,"submit",Ke(i[7]))],D=!0)},p(T,k){k&16&&s.value!==T[4]&&x(s,T[4]),T[5]?v?(v.p(T,k),k&32&&te(v,1)):(v=Me(T),v.c(),te(v,1),v.m(e,null)):v&&(De(),Oe(v,1,1,()=>{v=null}),xe())},d(T){T&&m(e),v&&v.d(),D=!1,Ue(S)}}}function Be(i){let e,a,f=i[16].title+"",c,t,o,b;function p(){return i[11](i[16])}return{c(){e=h("li"),a=h("span"),c=ae(f),t=z(),this.h()},l(s){e=_(s,"LI",{class:!0});var d=A(e);a=_(d,"SPAN",{});var r=A(a);c=ne(r,f),r.forEach(m),t=E(d),d.forEach(m),this.h()},h(){l(e,"class","svelte-1ez2uh6")},m(s,d){U(s,e,d),n(e,a),n(a,c),n(e,t),o||(b=K(e,"click",p),o=!0)},p(s,d){i=s,d&1&&f!==(f=i[16].title+"")&&re(c,f)},d(s){s&&m(e),o=!1,b()}}}function He(i){let e,a=i[1].message+"",f,c,t;return{c(){e=h("p"),f=ae(a),this.h()},l(o){e=_(o,"P",{class:!0});var b=A(e);f=ne(b,a),b.forEach(m),this.h()},h(){l(e,"class","response-message svelte-1ez2uh6")},m(o,b){U(o,e,b),n(e,f),t=!0},p(o,b){(!t||b&2)&&a!==(a=o[1].message+"")&&re(f,a)},i(o){t||(o&&je(()=>{t&&(c||(c=le(e,se,{},!0)),c.run(1))}),t=!0)},o(o){o&&(c||(c=le(e,se,{},!1)),c.run(0)),t=!1},d(o){o&&m(e),o&&c&&c.end()}}}function Me(i){let e,a,f,c;return{c(){e=h("div"),a=ae(i[5]),this.h()},l(t){e=_(t,"DIV",{class:!0});var o=A(e);a=ne(o,i[5]),o.forEach(m),this.h()},h(){l(e,"class","toast svelte-1ez2uh6")},m(t,o){U(t,e,o),n(e,a),c=!0},p(t,o){(!c||o&32)&&re(a,t[5])},i(t){c||(t&&je(()=>{c&&(f||(f=le(e,se,{},!0)),f.run(1))}),c=!0)},o(t){t&&(f||(f=le(e,se,{},!1)),f.run(0)),c=!1},d(t){t&&m(e),t&&f&&f.end()}}}function et(i){let e,a="",f,c,t;function o(s,d){return s[3]?Ze:$e}let b=o(i),p=b(i);return{c(){e=h("script"),e.innerHTML=a,c=z(),t=h("div"),p.c(),this.h()},l(s){const d=Ve("svelte-kfoqwy",document.head);e=_(d,"SCRIPT",{src:!0,"data-svelte-h":!0}),B(e)!=="svelte-92bq6a"&&(e.innerHTML=a),d.forEach(m),c=E(s),t=_(s,"DIV",{class:!0});var r=A(t);p.l(r),r.forEach(m),this.h()},h(){Re(e.src,f="https://cdn.jsdelivr.net/npm/marked/lib/marked.umd.js")||l(e,"src",f),l(t,"class","admin-container svelte-1ez2uh6")},m(s,d){n(document.head,e),U(s,c,d),U(s,t,d),p.m(t,null)},p(s,[d]){b===(b=o(s))&&p?p.p(s,d):(p.d(1),p=b(s),p&&(p.c(),p.m(t,null)))},i:Ae,o:Ae,d(s){s&&(m(c),m(t)),m(e),p.d()}}}function tt(i,e,a){let f,{data:c}=e,{form:t}=e,o=!1,b="",p="",s={slug:"",title:"",description:"",categories:[],content:""};function d(){b==="password"?a(3,o=!0):(a(5,p="Password non valida"),setTimeout(()=>{a(5,p="")},3e3))}function r(w){a(2,s=w)}function j(){a(2,s={slug:"",title:"",description:"",categories:[],content:""})}function H(){b=this.value,a(4,b)}const D=w=>r(w);function S(){s.title=this.value,a(2,s)}function v(){s.description=this.value,a(2,s)}function T(){s.categories=this.value,a(2,s)}function k(){s.content=this.value,a(2,s)}return i.$$set=w=>{"data"in w&&a(0,c=w.data),"form"in w&&a(1,t=w.form)},i.$$.update=()=>{i.$$.dirty&4&&a(6,f=window.marked&&window.marked.parse(s.content))},[c,t,s,o,b,p,f,d,r,j,H,D,S,v,T,k]}class it extends Qe{constructor(e){super(),We(this,e,tt,et,Se,{data:0,form:1})}}export{it as component};
