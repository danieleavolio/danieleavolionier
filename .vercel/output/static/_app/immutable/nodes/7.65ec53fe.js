import{s as Ve,f as _,a as z,L as xe,g as p,B as q,d as m,c as E,h as A,K as Re,j as l,r as a,i as M,u as Ae,l as re,H as Fe,e as Ne,m as ae,F as Xe,E as S,C as K,M as Ge,n as ne,O as Je,J as Me,N as Ke,G as Ue}from"../chunks/scheduler.a5f99357.js";import{S as Qe,i as We,a as te,g as De,t as Oe,c as Se,h as le}from"../chunks/index.0f8e246b.js";import{e as je}from"../chunks/each.2b167411.js";import{e as Ye}from"../chunks/forms.0f3ec8a2.js";import{f as se}from"../chunks/index.22c841e0.js";function Ie(i,e,r){const c=i.slice();return c[16]=e[r],c}function Ze(i){var ye;let e,r,c="Progetti",f,t,o="Nuovo Progetto",C,h,s,d,n,U,B=i[2].slug?"Modifica Progetto":"Nuovo Progetto",D,V,v,T,k,w,ie,x,be="Titolo",oe,N,ue,R,ke="Descrizione",fe,H,ce,F,ze="Categorie (separate da virgola)",de,j,_e,X,Ee="Contenuto (Markdown)",pe,I,he,G,we="Salva Progetto",ve,J,Q,Pe="Anteprima",me,Z,$,W,ge,Te,Y=je(i[0].projects),y=[];for(let u=0;u<Y.length;u+=1)y[u]=qe(Ie(i,Y,u));let P=((ye=i[1])==null?void 0:ye.message)&&Be(i);return{c(){e=_("div"),r=_("h2"),r.textContent=c,f=z(),t=_("button"),t.textContent=o,C=z(),h=_("ul");for(let u=0;u<y.length;u+=1)y[u].c();s=z(),d=_("div"),n=_("form"),U=_("h1"),D=re(B),V=z(),v=_("input"),T=z(),k=_("input"),ie=z(),x=_("label"),x.textContent=be,oe=z(),N=_("input"),ue=z(),R=_("label"),R.textContent=ke,fe=z(),H=_("textarea"),ce=z(),F=_("label"),F.textContent=ze,de=z(),j=_("input"),_e=z(),X=_("label"),X.textContent=Ee,pe=z(),I=_("textarea"),he=z(),G=_("button"),G.textContent=we,ve=z(),J=_("div"),Q=_("h2"),Q.textContent=Pe,me=z(),Z=new Fe(!1),$=z(),P&&P.c(),W=Ne(),this.h()},l(u){e=p(u,"DIV",{class:!0});var b=A(e);r=p(b,"H2",{"data-svelte-h":!0}),q(r)!=="svelte-1meubgc"&&(r.textContent=c),f=E(b),t=p(b,"BUTTON",{class:!0,"data-svelte-h":!0}),q(t)!=="svelte-1kppary"&&(t.textContent=o),C=E(b),h=p(b,"UL",{class:!0});var O=A(h);for(let Ce=0;Ce<y.length;Ce+=1)y[Ce].l(O);O.forEach(m),b.forEach(m),s=E(u),d=p(u,"DIV",{class:!0});var L=A(d);n=p(L,"FORM",{method:!0,class:!0});var g=A(n);U=p(g,"H1",{});var Le=A(U);D=ae(Le,B),Le.forEach(m),V=E(g),v=p(g,"INPUT",{type:!0,name:!0,class:!0}),T=E(g),k=p(g,"INPUT",{type:!0,name:!0,class:!0}),ie=E(g),x=p(g,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(x)!=="svelte-1p4ekyt"&&(x.textContent=be),oe=E(g),N=p(g,"INPUT",{type:!0,id:!0,name:!0,class:!0}),ue=E(g),R=p(g,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(R)!=="svelte-1wk5id7"&&(R.textContent=ke),fe=E(g),H=p(g,"TEXTAREA",{id:!0,name:!0,class:!0}),A(H).forEach(m),ce=E(g),F=p(g,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(F)!=="svelte-15dwvma"&&(F.textContent=ze),de=E(g),j=p(g,"INPUT",{type:!0,id:!0,name:!0,class:!0}),_e=E(g),X=p(g,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(X)!=="svelte-19sjlnm"&&(X.textContent=Ee),pe=E(g),I=p(g,"TEXTAREA",{id:!0,name:!0,rows:!0,class:!0}),A(I).forEach(m),he=E(g),G=p(g,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),q(G)!=="svelte-473oh0"&&(G.textContent=we),g.forEach(m),ve=E(L),J=p(L,"DIV",{class:!0});var ee=A(J);Q=p(ee,"H2",{"data-svelte-h":!0}),q(Q)!=="svelte-xojrdj"&&(Q.textContent=Pe),me=E(ee),Z=Xe(ee,!1),ee.forEach(m),L.forEach(m),$=E(u),P&&P.l(u),W=Ne(),this.h()},h(){l(t,"class","svelte-1gf8zr6"),l(h,"class","svelte-1gf8zr6"),l(e,"class","project-list svelte-1gf8zr6"),l(v,"type","hidden"),l(v,"name","password"),v.value=i[4],l(v,"class","svelte-1gf8zr6"),l(k,"type","hidden"),l(k,"name","slug"),k.value=w=i[2].slug,l(k,"class","svelte-1gf8zr6"),l(x,"for","title"),l(x,"class","svelte-1gf8zr6"),l(N,"type","text"),l(N,"id","title"),l(N,"name","title"),N.required=!0,l(N,"class","svelte-1gf8zr6"),l(R,"for","description"),l(R,"class","svelte-1gf8zr6"),l(H,"id","description"),l(H,"name","description"),H.required=!0,l(H,"class","svelte-1gf8zr6"),l(F,"for","categories"),l(F,"class","svelte-1gf8zr6"),l(j,"type","text"),l(j,"id","categories"),l(j,"name","categories"),j.required=!0,l(j,"class","svelte-1gf8zr6"),l(X,"for","content"),l(X,"class","svelte-1gf8zr6"),l(I,"id","content"),l(I,"name","content"),l(I,"rows","20"),I.required=!0,l(I,"class","svelte-1gf8zr6"),l(G,"type","submit"),l(G,"class","svelte-1gf8zr6"),l(n,"method","POST"),l(n,"class","svelte-1gf8zr6"),Z.a=null,l(J,"class","preview-container prose svelte-1gf8zr6"),l(d,"class","editor-grid svelte-1gf8zr6")},m(u,b){M(u,e,b),a(e,r),a(e,f),a(e,t),a(e,C),a(e,h);for(let O=0;O<y.length;O+=1)y[O]&&y[O].m(h,null);M(u,s,b),M(u,d,b),a(d,n),a(n,U),a(U,D),a(n,V),a(n,v),a(n,T),a(n,k),a(n,ie),a(n,x),a(n,oe),a(n,N),S(N,i[2].title),a(n,ue),a(n,R),a(n,fe),a(n,H),S(H,i[2].description),a(n,ce),a(n,F),a(n,de),a(n,j),S(j,i[2].categories),a(n,_e),a(n,X),a(n,pe),a(n,I),S(I,i[2].content),a(n,he),a(n,G),a(d,ve),a(d,J),a(J,Q),a(J,me),Z.m(i[6],J),M(u,$,b),P&&P.m(u,b),M(u,W,b),ge||(Te=[K(t,"click",i[9]),K(N,"input",i[12]),K(H,"input",i[13]),K(j,"input",i[14]),K(I,"input",i[15]),Ge(Ye.call(null,n))],ge=!0)},p(u,b){var O;if(b&257){Y=je(u[0].projects);let L;for(L=0;L<Y.length;L+=1){const g=Ie(u,Y,L);y[L]?y[L].p(g,b):(y[L]=qe(g),y[L].c(),y[L].m(h,null))}for(;L<y.length;L+=1)y[L].d(1);y.length=Y.length}b&4&&B!==(B=u[2].slug?"Modifica Progetto":"Nuovo Progetto")&&ne(D,B),b&16&&(v.value=u[4]),b&4&&w!==(w=u[2].slug)&&(k.value=w),b&4&&N.value!==u[2].title&&S(N,u[2].title),b&4&&S(H,u[2].description),b&4&&j.value!==u[2].categories&&S(j,u[2].categories),b&4&&S(I,u[2].content),b&64&&Z.p(u[6]),(O=u[1])!=null&&O.message?P?(P.p(u,b),b&2&&te(P,1)):(P=Be(u),P.c(),te(P,1),P.m(W.parentNode,W)):P&&(De(),Oe(P,1,1,()=>{P=null}),Se())},d(u){u&&(m(e),m(s),m(d),m($),m(W)),Je(y,u),P&&P.d(u),ge=!1,Me(Te)}}}function $e(i){let e,r,c="Accesso Amministratore",f,t,o,C="Password",h,s,d,n,U="Entra",B,D,V,v=i[5]&&He(i);return{c(){e=_("div"),r=_("h1"),r.textContent=c,f=z(),t=_("form"),o=_("label"),o.textContent=C,h=z(),s=_("input"),d=z(),n=_("button"),n.textContent=U,B=z(),v&&v.c(),this.h()},l(T){e=p(T,"DIV",{class:!0});var k=A(e);r=p(k,"H1",{"data-svelte-h":!0}),q(r)!=="svelte-12b6bm"&&(r.textContent=c),f=E(k),t=p(k,"FORM",{class:!0});var w=A(t);o=p(w,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(o)!=="svelte-pepa0a"&&(o.textContent=C),h=E(w),s=p(w,"INPUT",{type:!0,id:!0,class:!0}),d=E(w),n=p(w,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),q(n)!=="svelte-1njcxaz"&&(n.textContent=U),w.forEach(m),B=E(k),v&&v.l(k),k.forEach(m),this.h()},h(){l(o,"for","password"),l(o,"class","svelte-1gf8zr6"),l(s,"type","password"),l(s,"id","password"),s.required=!0,l(s,"class","svelte-1gf8zr6"),l(n,"type","submit"),l(n,"class","svelte-1gf8zr6"),l(t,"class","svelte-1gf8zr6"),l(e,"class","login-container svelte-1gf8zr6")},m(T,k){M(T,e,k),a(e,r),a(e,f),a(e,t),a(t,o),a(t,h),a(t,s),S(s,i[4]),a(t,d),a(t,n),a(e,B),v&&v.m(e,null),D||(V=[K(s,"input",i[10]),K(t,"submit",Ke(i[7]))],D=!0)},p(T,k){k&16&&s.value!==T[4]&&S(s,T[4]),T[5]?v?(v.p(T,k),k&32&&te(v,1)):(v=He(T),v.c(),te(v,1),v.m(e,null)):v&&(De(),Oe(v,1,1,()=>{v=null}),Se())},d(T){T&&m(e),v&&v.d(),D=!1,Me(V)}}}function qe(i){let e,r,c=i[16].title+"",f,t,o,C;function h(){return i[11](i[16])}return{c(){e=_("li"),r=_("span"),f=re(c),t=z(),this.h()},l(s){e=p(s,"LI",{class:!0});var d=A(e);r=p(d,"SPAN",{});var n=A(r);f=ae(n,c),n.forEach(m),t=E(d),d.forEach(m),this.h()},h(){l(e,"class","svelte-1gf8zr6")},m(s,d){M(s,e,d),a(e,r),a(r,f),a(e,t),o||(C=K(e,"click",h),o=!0)},p(s,d){i=s,d&1&&c!==(c=i[16].title+"")&&ne(f,c)},d(s){s&&m(e),o=!1,C()}}}function Be(i){let e,r=i[1].message+"",c,f,t;return{c(){e=_("p"),c=re(r),this.h()},l(o){e=p(o,"P",{class:!0});var C=A(e);c=ae(C,r),C.forEach(m),this.h()},h(){l(e,"class","response-message svelte-1gf8zr6")},m(o,C){M(o,e,C),a(e,c),t=!0},p(o,C){(!t||C&2)&&r!==(r=o[1].message+"")&&ne(c,r)},i(o){t||(o&&Ue(()=>{t&&(f||(f=le(e,se,{},!0)),f.run(1))}),t=!0)},o(o){o&&(f||(f=le(e,se,{},!1)),f.run(0)),t=!1},d(o){o&&m(e),o&&f&&f.end()}}}function He(i){let e,r,c,f;return{c(){e=_("div"),r=re(i[5]),this.h()},l(t){e=p(t,"DIV",{class:!0});var o=A(e);r=ae(o,i[5]),o.forEach(m),this.h()},h(){l(e,"class","toast svelte-1gf8zr6")},m(t,o){M(t,e,o),a(e,r),f=!0},p(t,o){(!f||o&32)&&ne(r,t[5])},i(t){f||(t&&Ue(()=>{f&&(c||(c=le(e,se,{},!0)),c.run(1))}),f=!0)},o(t){t&&(c||(c=le(e,se,{},!1)),c.run(0)),f=!1},d(t){t&&m(e),t&&c&&c.end()}}}function et(i){let e,r="",c,f,t;function o(s,d){return s[3]?Ze:$e}let C=o(i),h=C(i);return{c(){e=_("script"),e.innerHTML=r,f=z(),t=_("div"),h.c(),this.h()},l(s){const d=xe("svelte-kfoqwy",document.head);e=p(d,"SCRIPT",{src:!0,"data-svelte-h":!0}),q(e)!=="svelte-92bq6a"&&(e.innerHTML=r),d.forEach(m),f=E(s),t=p(s,"DIV",{class:!0});var n=A(t);h.l(n),n.forEach(m),this.h()},h(){Re(e.src,c="https://cdn.jsdelivr.net/npm/marked/lib/marked.umd.js")||l(e,"src",c),l(t,"class","admin-container svelte-1gf8zr6")},m(s,d){a(document.head,e),M(s,f,d),M(s,t,d),h.m(t,null)},p(s,[d]){C===(C=o(s))&&h?h.p(s,d):(h.d(1),h=C(s),h&&(h.c(),h.m(t,null)))},i:Ae,o:Ae,d(s){s&&(m(f),m(t)),m(e),h.d()}}}function tt(i,e,r){let c,{data:f}=e,{form:t}=e,o=!1,C="",h="",s={slug:"",title:"",description:"",categories:[],content:""};function d(){C==="password"?r(3,o=!0):(r(5,h="Password non valida"),setTimeout(()=>{r(5,h="")},3e3))}function n(w){r(2,s=w)}function U(){r(2,s={slug:"",title:"",description:"",categories:[],content:""})}function B(){C=this.value,r(4,C)}const D=w=>n(w);function V(){s.title=this.value,r(2,s)}function v(){s.description=this.value,r(2,s)}function T(){s.categories=this.value,r(2,s)}function k(){s.content=this.value,r(2,s)}return i.$$set=w=>{"data"in w&&r(0,f=w.data),"form"in w&&r(1,t=w.form)},i.$$.update=()=>{i.$$.dirty&4&&r(6,c=window.marked&&window.marked.parse(s.content))},[f,t,s,o,C,h,c,d,n,U,B,D,V,v,T,k]}class it extends Qe{constructor(e){super(),We(this,e,tt,et,Ve,{data:0,form:1})}}export{it as component};
