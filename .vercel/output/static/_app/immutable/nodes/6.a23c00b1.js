import{s as V,a as w,f as E,G as W,d as v,c as P,g as y,h as k,j,i as T,r as m,L as X,l as B,m as C,n as L,B as Y}from"../chunks/scheduler.e2ad6265.js";import{S as Z,i as x,b as J,d as K,m as Q,a as $,c as F,t as S,e as R,f as I,g as q}from"../chunks/index.7e17238a.js";import{e as A}from"../chunks/each.e59479a4.js";import{f as D}from"../chunks/utils.b7b94089.js";import{t as ee}from"../chunks/config.e598620a.js";import{C as te,B as ae}from"../chunks/CategoriesFilter.a3d2b14a.js";import{s as G}from"../chunks/index.e015dca0.js";async function se({fetch:p}){return{progetti:await(await p("api/progetti")).json()}}const _e=Object.freeze(Object.defineProperty({__proto__:null,load:se},Symbol.toStringTag,{value:"Module"}));function H(p,t,r){const a=p.slice();return a[4]=t[r],a}function M(p){let t,r,a=p[4].title+"",h,n,c,d,_=D(p[4].date)+"",s,b,o,e=p[4].description+"",f,u,l;return{c(){t=E("li"),r=E("a"),h=B(a),c=w(),d=E("p"),s=B(_),b=w(),o=E("p"),f=B(e),this.h()},l(i){t=y(i,"LI",{class:!0});var g=k(t);r=y(g,"A",{href:!0,class:!0});var N=k(r);h=C(N,a),N.forEach(v),c=P(g),d=y(g,"P",{class:!0});var O=k(d);s=C(O,_),O.forEach(v),b=P(g),o=y(g,"P",{class:!0});var z=k(o);f=C(z,e),z.forEach(v),g.forEach(v),this.h()},h(){j(r,"href",n="progetti/"+p[4].slug),j(r,"class","title svelte-6yda8j"),j(d,"class","date svelte-6yda8j"),j(o,"class","description svelte-6yda8j"),j(t,"class","post svelte-6yda8j")},m(i,g){T(i,t,g),m(t,r),m(r,h),m(t,c),m(t,d),m(d,s),m(t,b),m(t,o),m(o,f),l=!0},p(i,g){(!l||g&2)&&a!==(a=i[4].title+"")&&L(h,a),(!l||g&2&&n!==(n="progetti/"+i[4].slug))&&j(r,"href",n),(!l||g&2)&&_!==(_=D(i[4].date)+"")&&L(s,_),(!l||g&2)&&e!==(e=i[4].description+"")&&L(f,e)},i(i){l||(i&&Y(()=>{l&&(u||(u=I(t,G,{},!0)),u.run(1))}),l=!0)},o(i){i&&(u||(u=I(t,G,{},!1)),u.run(0)),l=!1},d(i){i&&v(t),i&&u&&u.end()}}}function U(p){let t,r,a,h;return a=new ae({props:{size:"2em"}}),{c(){t=E("h1"),r=B("No project found "),J(a.$$.fragment),this.h()},l(n){t=y(n,"H1",{class:!0});var c=k(t);r=C(c,"No project found "),K(a.$$.fragment,c),c.forEach(v),this.h()},h(){j(t,"class","svelte-6yda8j")},m(n,c){T(n,t,c),m(t,r),Q(a,t,null),h=!0},i(n){h||($(a.$$.fragment,n),h=!0)},o(n){S(a.$$.fragment,n),h=!1},d(n){n&&v(t),R(a)}}}function le(p){let t,r,a,h,n,c,d;document.title=ee+" Projects";let _=A(p[1]),s=[];for(let e=0;e<_.length;e+=1)s[e]=M(H(p,_,e));const b=e=>S(s[e],1,1,()=>{s[e]=null});let o=p[1].length==0&&U();return c=new te({props:{categories:p[0]}}),c.$on("filter",p[2]),{c(){t=w(),r=E("section"),a=E("ul");for(let e=0;e<s.length;e+=1)s[e].c();h=w(),o&&o.c(),n=w(),J(c.$$.fragment),this.h()},l(e){W("svelte-17bwkno",document.head).forEach(v),t=P(e),r=y(e,"SECTION",{class:!0});var u=k(r);a=y(u,"UL",{class:!0});var l=k(a);for(let i=0;i<s.length;i+=1)s[i].l(l);h=P(l),o&&o.l(l),l.forEach(v),n=P(u),K(c.$$.fragment,u),u.forEach(v),this.h()},h(){j(a,"class","posts"),j(r,"class","svelte-6yda8j")},m(e,f){T(e,t,f),T(e,r,f),m(r,a);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(a,null);m(a,h),o&&o.m(a,null),m(r,n),Q(c,r,null),d=!0},p(e,[f]){if(f&2){_=A(e[1]);let l;for(l=0;l<_.length;l+=1){const i=H(e,_,l);s[l]?(s[l].p(i,f),$(s[l],1)):(s[l]=M(i),s[l].c(),$(s[l],1),s[l].m(a,h))}for(q(),l=_.length;l<s.length;l+=1)b(l);F()}e[1].length==0?o?f&2&&$(o,1):(o=U(),o.c(),$(o,1),o.m(a,null)):o&&(q(),S(o,1,1,()=>{o=null}),F());const u={};f&1&&(u.categories=e[0]),c.$set(u)},i(e){if(!d){for(let f=0;f<_.length;f+=1)$(s[f]);$(o),$(c.$$.fragment,e),d=!0}},o(e){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)S(s[f]);S(o),S(c.$$.fragment,e),d=!1},d(e){e&&(v(t),v(r)),X(s,e),o&&o.d(),R(c)}}}function re(p,t,r){let{data:a}=t,h=[],n=a.progetti;a.progetti.forEach(d=>{d.categories.forEach(_=>{h.push(_)})}),h.sort(),h=[...new Set(h)];const c=d=>{let _=d.detail;if(_.length===0){r(1,n=a.progetti);return}r(1,n=a.progetti.filter(s=>{let b=s.categories,o=0;if(_.forEach(e=>{b.includes(e)&&o++}),o===_.length)return!0}))};return p.$$set=d=>{"data"in d&&r(3,a=d.data)},[h,n,c,a]}class pe extends Z{constructor(t){super(),x(this,t,re,le,V,{data:3})}}export{pe as component,_e as universal};
