import{s as re,p as ie,a as O,f as T,c as B,g as j,h as A,d as F,j as y,i as L,r as v,D as ne,M as ae,o as oe,t as ce,l as D,m as I,n as U,G as fe}from"../chunks/scheduler.38e9bcec.js";import{S as ue,i as ge,f as he,b as M,d as N,m as q,a as b,c as V,t as w,e as G,g as J,h as W}from"../chunks/index.e37b2c25.js";import{e as H}from"../chunks/each.51a03826.js";import{C as _e,B as pe}from"../chunks/CategoriesFilter.455f2f26.js";import{t as me}from"../chunks/config.2fe9a967.js";import{c as X,f as Y,T as de}from"../chunks/Tag.f8d00de8.js";import{s as Z}from"../chunks/index.0d0aa15e.js";import{S as ve}from"../chunks/SEO.3ceef554.js";async function $e({fetch:o}){return{posts:await(await o("api/posts")).json()}}const Ce=Object.freeze(Object.defineProperty({__proto__:null,load:$e},Symbol.toStringTag,{value:"Module"}));function x(o,t,i){const e=o.slice();return e[9]=t[i],e[11]=i,e}function ee(o,t,i){const e=o.slice();return e[12]=t[i],e}function te(o){let t,i;return t=new de({props:{from:"pagine",category:o[12],isActive:o[0].includes(o[12])}}),{c(){M(t.$$.fragment)},l(e){N(t.$$.fragment,e)},m(e,c){q(t,e,c),i=!0},p(e,c){const f={};c&8&&(f.category=e[12]),c&9&&(f.isActive=e[0].includes(e[12])),t.$set(f)},i(e){i||(b(t.$$.fragment,e),i=!0)},o(e){w(t.$$.fragment,e),i=!1},d(e){G(t,e)}}}function se(o){let t,i,e=o[9].title+"",c,f,d,p,k=Y(o[9].date)+"",S,$,r,g=o[9].description+"",n,C,E,s,a,m=H(o[9].categories),l=[];for(let u=0;u<m.length;u+=1)l[u]=te(ee(o,m,u));const z=u=>w(l[u],1,1,()=>{l[u]=null});return{c(){t=T("li"),i=T("a"),c=D(e),d=O(),p=T("p"),S=D(k),$=O(),r=T("p"),n=D(g),C=O(),E=T("div");for(let u=0;u<l.length;u+=1)l[u].c();this.h()},l(u){t=j(u,"LI",{class:!0});var h=A(t);i=j(h,"A",{href:!0,class:!0});var _=A(i);c=I(_,e),_.forEach(F),d=B(h),p=j(h,"P",{class:!0});var P=A(p);S=I(P,k),P.forEach(F),$=B(h),r=j(h,"P",{class:!0});var K=A(r);n=I(K,g),K.forEach(F),C=B(h),E=j(h,"DIV",{class:!0});var R=A(E);for(let Q=0;Q<l.length;Q+=1)l[Q].l(R);R.forEach(F),h.forEach(F),this.h()},h(){y(i,"href",f="pagine/"+o[9].slug),y(i,"class","title svelte-ky53in"),y(p,"class","date svelte-ky53in"),y(r,"class","description svelte-ky53in"),y(E,"class","tags svelte-ky53in"),y(t,"class","post svelte-ky53in")},m(u,h){L(u,t,h),v(t,i),v(i,c),v(t,d),v(t,p),v(p,S),v(t,$),v(t,r),v(r,n),v(t,C),v(t,E);for(let _=0;_<l.length;_+=1)l[_]&&l[_].m(E,null);a=!0},p(u,h){if((!a||h&8)&&e!==(e=u[9].title+"")&&U(c,e),(!a||h&8&&f!==(f="pagine/"+u[9].slug))&&y(i,"href",f),(!a||h&8)&&k!==(k=Y(u[9].date)+"")&&U(S,k),(!a||h&8)&&g!==(g=u[9].description+"")&&U(n,g),h&9){m=H(u[9].categories);let _;for(_=0;_<m.length;_+=1){const P=ee(u,m,_);l[_]?(l[_].p(P,h),b(l[_],1)):(l[_]=te(P),l[_].c(),b(l[_],1),l[_].m(E,null))}for(J(),_=m.length;_<l.length;_+=1)z(_);V()}},i(u){if(!a){for(let h=0;h<m.length;h+=1)b(l[h]);u&&fe(()=>{a&&(s||(s=W(t,Z,{},!0)),s.run(1))}),a=!0}},o(u){l=l.filter(Boolean);for(let h=0;h<l.length;h+=1)w(l[h]);u&&(s||(s=W(t,Z,{},!1)),s.run(0)),a=!1},d(u){u&&F(t),ae(l,u),u&&s&&s.end()}}}function le(o){let t,i,e,c;return e=new pe({props:{size:"2em"}}),{c(){t=T("h1"),i=D("Nessun post trovato! "),M(e.$$.fragment),this.h()},l(f){t=j(f,"H1",{class:!0});var d=A(t);i=I(d,"Nessun post trovato! "),N(e.$$.fragment,d),d.forEach(F),this.h()},h(){y(t,"class","svelte-ky53in")},m(f,d){L(f,t,d),v(t,i),q(e,t,null),c=!0},i(f){c||(b(e.$$.fragment,f),c=!0)},o(f){w(e.$$.fragment,f),c=!1},d(f){f&&F(t),G(e)}}}function be(o){let t,i,e,c,f,d,p,k,S;t=new ve({props:{title:me,description:"La pagina dei post del blog. Qui potete trovare tutti i post scritti da me medesimo su vari argomenti che vanno dalla programmazione, alle recensioni di videogiochi e fino ad aggiornamenti generici sulla mia vita.",image:"https://i.imgur.com/juSgfgF.png",isArticle:!1}});let $=H(o[3]),r=[];for(let s=0;s<$.length;s+=1)r[s]=se(x(o,$,s));const g=s=>w(r[s],1,1,()=>{r[s]=null});let n=o[3].length==0&&le();function C(s){o[7](s)}let E={categories:o[2]};return o[0]!==void 0&&(E.activeFilters=o[0]),p=new _e({props:E}),o[6](p),ie.push(()=>he(p,"activeFilters",C)),p.$on("filter",o[8]),{c(){M(t.$$.fragment),i=O(),e=T("section"),c=T("ul");for(let s=0;s<r.length;s+=1)r[s].c();f=O(),n&&n.c(),d=O(),M(p.$$.fragment),this.h()},l(s){N(t.$$.fragment,s),i=B(s),e=j(s,"SECTION",{class:!0});var a=A(e);c=j(a,"UL",{class:!0});var m=A(c);for(let l=0;l<r.length;l+=1)r[l].l(m);f=B(m),n&&n.l(m),m.forEach(F),d=B(a),N(p.$$.fragment,a),a.forEach(F),this.h()},h(){y(c,"class","posts"),y(e,"class","svelte-ky53in")},m(s,a){q(t,s,a),L(s,i,a),L(s,e,a),v(e,c);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(c,null);v(c,f),n&&n.m(c,null),v(e,d),q(p,e,null),S=!0},p(s,[a]){if(a&9){$=H(s[3]);let l;for(l=0;l<$.length;l+=1){const z=x(s,$,l);r[l]?(r[l].p(z,a),b(r[l],1)):(r[l]=se(z),r[l].c(),b(r[l],1),r[l].m(c,f))}for(J(),l=$.length;l<r.length;l+=1)g(l);V()}s[3].length==0?n?a&8&&b(n,1):(n=le(),n.c(),b(n,1),n.m(c,null)):n&&(J(),w(n,1,1,()=>{n=null}),V());const m={};a&4&&(m.categories=s[2]),!k&&a&1&&(k=!0,m.activeFilters=s[0],ne(()=>k=!1)),p.$set(m)},i(s){if(!S){b(t.$$.fragment,s);for(let a=0;a<$.length;a+=1)b(r[a]);b(n),b(p.$$.fragment,s),S=!0}},o(s){w(t.$$.fragment,s),r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)w(r[a]);w(n),w(p.$$.fragment,s),S=!1},d(s){s&&(F(i),F(e)),G(t,s),ae(r,s),n&&n.d(),o[6](null),G(p)}}}function ke(o,t,i){let{data:e}=t,c=[],f;oe(()=>{X.subscribe(g=>{if(g){let n=d.indexOf(g);c.includes(g)||ce().then(()=>{f.clearFilters(),f.setActive(n),f.openForce(),X.set(null)})}})});let d=[],p=e.posts;e.posts.forEach(g=>{g.categories.forEach(n=>{d.push(n)})}),d.sort(),d=[...new Set(d)];const k=g=>{let n=g.detail;if(n.length===0){i(3,p=e.posts);return}i(3,p=e.posts.filter(C=>{let E=C.categories,s=0;if(n.forEach(a=>{E.includes(a)&&s++}),s===n.length)return!0}))};function S(g){ie[g?"unshift":"push"](()=>{f=g,i(1,f)})}function $(g){c=g,i(0,c)}const r=g=>k(g);return o.$$set=g=>{"data"in g&&i(5,e=g.data)},[c,f,d,p,k,e,S,$,r]}class Oe extends ue{constructor(t){super(),ge(this,t,ke,be,re,{data:5})}}export{Oe as component,Ce as universal};
